{"ast":null,"code":"import _classCallCheck from \"/Users/jaysolanki/Assignments/react-assessment/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jaysolanki/Assignments/react-assessment/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jaysolanki/Assignments/react-assessment/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jaysolanki/Assignments/react-assessment/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jaysolanki/Assignments/react-assessment/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jaysolanki/Assignments/react-assessment/src/components/request/List.js\";\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Button } from 'reactstrap';\nimport './List.css';\nimport { getList, deleteRequest, patchRequest } from '../../redux/actions/request';\nimport ChangeStatusPopover from './ChangeStatusPopover';\n\nvar ListRequest =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ListRequest, _Component);\n\n  function ListRequest() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ListRequest);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ListRequest)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      filterStatus: undefined\n    };\n\n    _this.filter = function (request) {\n      if (!_this.state.filterStatus || _this.state.filterStatus === 'AllRequest') {\n        return true;\n      } else {\n        return request.status === _this.state.filterStatus;\n      }\n    };\n\n    _this.formatDate = function (date) {\n      date = new Date(Date.parse(date));\n      var day = date.getDate();\n      var month = date.getMonth() + 1;\n      var year = date.getFullYear();\n      return year + '-' + month + '-' + day;\n    };\n\n    _this.deleteRequest = function (form) {\n      var cfm = window['confirm']('Are you sure you want to delete this? ');\n\n      if (cfm) {\n        _this.props.dispatch(deleteRequest(form));\n      }\n    };\n\n    _this.updateRequest = function (form) {\n      _this.props.dispatch(patchRequest(form));\n    };\n\n    _this.handleFilterChange = function (e) {\n      // e.persist();\n      _this.setState({\n        filterStatus: e.target.value\n      });\n    };\n\n    _this.status2Color = function (s) {\n      switch (s) {\n        case 'Approved':\n          return \"#d7f1dd\";\n\n        case 'Denied':\n          return \"#ffd4ce\";\n\n        case 'Pending':\n          return \"#ffffff\";\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(ListRequest, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.dispatch(getList());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        style: {\n          padding: \"30px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          padding: \"30px\",\n          background: \"#f3f3f3\",\n          width: '620px',\n          marginBottom: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Filter by Status: \"), React.createElement(\"select\", {\n        onChange: this.handleFilterChange,\n        value: this.state.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"AllRequest\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"All Requests\"), React.createElement(\"option\", {\n        value: \"Pending\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Pending\"), React.createElement(\"option\", {\n        value: \"Approved\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Approved\"), React.createElement(\"option\", {\n        value: \"Denied\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Denied\"))), React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        style: {\n          borderBottom: \"2px solid black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        style: {\n          width: '260px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"th\", {\n        style: {\n          width: '100px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Status\"), React.createElement(\"th\", {\n        style: {\n          width: '100px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Created\"), React.createElement(\"th\", {\n        style: {\n          width: '100px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"updated\"), React.createElement(\"th\", {\n        style: {\n          width: '60px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Delete\")), this.props.requests.filter(this.filter).map(function (r) {\n        return React.createElement(\"tr\", {\n          key: r.id,\n          style: {\n            background: _this2.status2Color(r.status)\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, r.title), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(ChangeStatusPopover, {\n          value: r.status,\n          id: r.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"asLink lnk\",\n          onClick: function onClick() {\n            return _this2.updateRequest({\n              id: r.id,\n              status: \"Approved\"\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, \"Approved\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          className: \"asLink lnk\",\n          onClick: function onClick() {\n            return _this2.updateRequest({\n              id: r.id,\n              status: \"Denied\"\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, \"Denied\"))), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, _this2.formatDate(r.created)), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, _this2.formatDate(r.updated)), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"asLink lnk\",\n          onClick: function onClick() {\n            return _this2.deleteRequest({\n              id: r.id\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, \"Delete\")));\n      })))); // return (\n      // );\n    }\n  }]);\n\n  return ListRequest;\n}(Component);\n\nexport default connect(function (store) {\n  return {\n    requests: store.requests\n  };\n})(ListRequest);","map":{"version":3,"sources":["/Users/jaysolanki/Assignments/react-assessment/src/components/request/List.js"],"names":["React","Component","Fragment","connect","Button","getList","deleteRequest","patchRequest","ChangeStatusPopover","ListRequest","state","filterStatus","undefined","filter","request","status","formatDate","date","Date","parse","day","getDate","month","getMonth","year","getFullYear","form","cfm","window","props","dispatch","updateRequest","handleFilterChange","e","setState","target","value","status2Color","s","padding","background","width","marginBottom","borderBottom","requests","map","r","id","title","created","updated","store"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Button } from 'reactstrap';\n\nimport './List.css';\n\nimport { getList, deleteRequest, patchRequest } from '../../redux/actions/request';\nimport ChangeStatusPopover from './ChangeStatusPopover';\n\nclass ListRequest extends Component {\n    state = {\n        filterStatus: undefined,\n    }\n\n    componentDidMount() {\n        this.props.dispatch(getList());\n    }\n\n    filter = (request) => {\n        if (!this.state.filterStatus || this.state.filterStatus === 'AllRequest') {\n            return true;\n        } else {\n            return request.status === this.state.filterStatus;\n        }\n    }\n\n    formatDate = (date) => {\n        date = new Date(Date.parse(date));\n\n        var day = date.getDate();\n        var month = date.getMonth() + 1;\n        var year = date.getFullYear();\n\n        return year + '-' + month + '-' + day;\n    }\n\n    deleteRequest = (form) => {\n        var cfm = window['confirm']('Are you sure you want to delete this? ');\n        if (cfm) {\n            this.props.dispatch(deleteRequest(form))\n        }\n    }\n\n    updateRequest = (form) => {\n        this.props.dispatch(patchRequest(form));\n    }\n\n    handleFilterChange = (e) => {\n        // e.persist();\n        this.setState({\n            filterStatus: e.target.value,\n        });\n    }\n\n    status2Color = (s) => {\n        switch (s) {\n            case 'Approved':\n                return \"#d7f1dd\";\n            case 'Denied':\n                return \"#ffd4ce\";\n            case 'Pending':\n                return \"#ffffff\";\n        }\n    }\n\n    render() {\n        return (\n            <div style={{ padding: \"30px\" }}>\n                <div style={{ padding: \"30px\", background: \"#f3f3f3\", width: '620px', marginBottom: \"20px\" }}>\n                    <span>Filter by Status: </span>\n                    <select onChange={this.handleFilterChange} value={this.state.value}>\n                        <option value=\"AllRequest\">All Requests</option>\n                        <option value=\"Pending\">Pending</option>\n                        <option value=\"Approved\">Approved</option>\n                        <option value=\"Denied\">Denied</option>\n                    </select>\n                </div>\n                <table>\n                    <tbody>\n                        <tr style={{ borderBottom: \"2px solid black\" }}>\n                            <th style={{ width: '260px' }}>Title</th>\n                            <th style={{ width: '100px' }}>Status</th>\n                            <th style={{ width: '100px' }}>Created</th>\n                            <th style={{ width: '100px' }}>updated</th>\n                            <th style={{ width: '60px' }}>Delete</th>\n                        </tr>\n                        {\n                            this.props.requests.filter(this.filter).map(r => (\n                                <tr key={r.id} style={{ background: this.status2Color(r.status) }}>\n                                    <td>{r.title}</td>\n                                    <td>\n                                        <ChangeStatusPopover value={r.status} id={r.id} >\n                                            <button className=\"asLink lnk\" onClick={() => this.updateRequest({ id: r.id, status: \"Approved\" })}>\n                                                Approved\n                                            </button>\n                                            <br />\n                                            <button className=\"asLink lnk\" onClick={() => this.updateRequest({ id: r.id, status: \"Denied\" })}>\n                                                Denied\n                                            </button>\n                                        </ChangeStatusPopover>\n                                    </td>\n                                    <td>{this.formatDate(r.created)}</td>\n                                    <td>{this.formatDate(r.updated)}</td>\n                                    <td>\n                                        <button className=\"asLink lnk\" onClick={() => this.deleteRequest({ id: r.id })}>\n                                            Delete\n                                        </button>\n                                    </td>\n                                </tr>\n                            ))\n                        }\n                    </tbody>\n                </table>\n            </div>\n        );\n        // return (\n\n        // );\n    }\n}\n\nexport default connect(store => ({ requests: store.requests }))(ListRequest);"]},"metadata":{},"sourceType":"module"}